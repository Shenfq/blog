(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{477:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("img",{attrs:{src:"https://file.shenfq.com/pic/202112151708176.svg",alt:"Logo"}})]),t._v(" "),s("p",[t._v("Vue3 å‘å¸ƒå·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œå®ƒé‡‡ç”¨äº†æ–°çš„å“åº”å¼ç³»ç»Ÿï¼Œè€Œä¸”æ„å»ºäº†ä¸€å¥—å…¨æ–°çš„ "),s("code",[t._v("Composition API")]),t._v("ã€‚Vue çš„å‘¨è¾¹ç”Ÿæ€éƒ½åœ¨åŠ ç´§é€‚é…è¿™å¥—æ–°çš„ç³»ç»Ÿï¼Œå®˜æ–¹çš„çŠ¶æ€ç®¡ç†åº“ Vuex ä¹Ÿåœ¨é€‚é…ä¸­ï¼Œä¸ºæ­¤å®˜æ–¹æå‡ºäº†ä¸€ä¸ª "),s("a",{attrs:{href:"https://github.com/vuejs/rfcs/discussions/270",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuex 5"),s("OutboundLink")],1),t._v(" çš„å…¨æ–°ææ¡ˆã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://file.shenfq.com/pic/202112151621995.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("æ”¯æŒä¸¤ç§è¯­æ³•åˆ›å»º Storeï¼š"),s("code",[t._v("Options Api")]),t._v(" å’Œ "),s("code",[t._v("Composition Api")]),t._v("ï¼›")]),t._v(" "),s("li",[t._v("åˆ é™¤ "),s("code",[t._v("mutations")]),t._v("ï¼Œåªæ”¯æŒ "),s("code",[t._v("state")]),t._v("ã€"),s("code",[t._v("getters")]),t._v("ã€"),s("code",[t._v("actions")]),t._v("ï¼›")]),t._v(" "),s("li",[t._v("æ¨¡å—åŒ–çš„è®¾è®¡ï¼Œèƒ½å¾ˆå¥½æ”¯æŒä»£ç åˆ†å‰²ï¼›")]),t._v(" "),s("li",[t._v("æ²¡æœ‰åµŒå¥—çš„æ¨¡å—ï¼Œåªæœ‰ Store çš„æ¦‚å¿µï¼›")]),t._v(" "),s("li",[t._v("å®Œæ•´çš„ "),s("code",[t._v("TypeScript")]),t._v(" æ”¯æŒï¼›")])]),t._v(" "),s("p",[t._v("åœ¨è¿™ä¸ªææ¡ˆä¸‹æ–¹ï¼Œæœ‰ä¸ªè¯„è®ºå¾ˆæœ‰æ„æ€ã€‚ç®€å•ç¿»è¯‘ä¸€ä¸‹ï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://file.shenfq.com/pic/202112151708483.png",alt:""}})]),t._v(" "),s("p",[t._v("å¥½å·§ä¸å·§ï¼ŒVuex5 çš„ææ¡ˆï¼Œä¸ Pinia å®ç°çš„åŠŸèƒ½ä¸èƒ½è¯´æ¯«æ— å…³ç³»ï¼Œåªèƒ½è¯´ä¸€æ¨¡ä¸€æ ·ï¼Œä»Šå¤©çš„æ–‡ç« å°±æ¥ç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹è¿™ä¸ªè èã€‚")]),t._v(" "),s("h2",{attrs:{id:"å®‰è£…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…"}},[t._v("#")]),t._v(" å®‰è£…")]),t._v(" "),s("p",[t._v("åœ¨ç°æœ‰é¡¹ç›®ä¸­ï¼Œç”¨è¿‡å¦‚ä¸‹å‘½ä»¤è¿›è¡Œ Pinia æ¨¡å—çš„å®‰è£…ã€‚")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yarn")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" pinia@next\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i pinia@next\n")])])]),s("p",[t._v("å®‰è£…å®Œæˆåï¼Œéœ€è¦åœ¨ Vue3 é¡¹ç›®çš„å…¥å£æ–‡ä»¶ä¸­ï¼Œè¿›è¡Œå¯¼å…¥å®‰è£…ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createApp "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createPinia "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pinia'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" App "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./App.vue'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®ä¾‹åŒ– Vue")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createApp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("App"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®‰è£… Pinia")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createPinia")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŒ‚è½½åœ¨çœŸå® DOM")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#app'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"ä¸Šæ‰‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸Šæ‰‹"}},[t._v("#")]),t._v(" ä¸Šæ‰‹")]),t._v(" "),s("p",[t._v("è¦ä½¿ç”¨ Pinia çš„è¯ï¼Œåªéœ€è¦å®šä¹‰ä¸€ä¸ª storeï¼Œç„¶ååœ¨ç”¨åˆ°è¯¥æ•°æ®çš„åœ°æ–¹è¿›è¡Œå¯¼å…¥ã€‚")]),t._v(" "),s("h3",{attrs:{id:"å®šä¹‰-store"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®šä¹‰-store"}},[t._v("#")]),t._v(" å®šä¹‰ Store")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineStore "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pinia"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹å¤–éƒ¨æš´éœ²ä¸€ä¸ª use æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šå¯¼å‡ºæˆ‘ä»¬å®šä¹‰çš„ state")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" useCounterStore "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineStore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¯ä¸ª store çš„ id å¿…é¡»å”¯ä¸€")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'counter'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// state è¡¨ç¤ºæ•°æ®æº")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// getters ç±»ä¼¼äº computedï¼Œå¯å¯¹ state çš„å€¼è¿›è¡ŒäºŒæ¬¡è®¡ç®—")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("getters")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("double")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// getter ä¸­çš„ this æŒ‡å‘ğŸ‘‰ state")]),t._v("\n    \t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœä½¿ç”¨ç®­å¤´å‡½æ•°ä¼šå¯¼è‡´ this æŒ‡å‘æœ‰é—®é¢˜")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯ä»¥åœ¨å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸­æ‹¿åˆ° state")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("double")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// actions ç”¨æ¥ä¿®æ”¹ state")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("actions")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("increment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// action ä¸­çš„ this æŒ‡å‘ğŸ‘‰ state")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" useCounterStore\n")])])]),s("p",[t._v("é™¤äº†ä½¿ç”¨ä¸Šè¿°ç±»ä¼¼ vuex çš„æ–¹å¼æ¥æ„å»º stateï¼Œè¿˜å¯ä»¥ä½¿ç”¨ "),s("code",[t._v("function")]),t._v(" çš„å½¢å¼æ¥åˆ›å»º storeï¼Œæœ‰ç‚¹ç±»ä¼¼äº Vue3 ä¸­çš„ "),s("code",[t._v("setup()")]),t._v("ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ref"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" computed "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineStore "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pinia"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹å¤–éƒ¨æš´éœ²ä¸€ä¸ª use æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šå¯¼å‡ºæˆ‘ä»¬å®šä¹‰çš„ state")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" useCounterStore "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineStore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'counter'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" double "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("computed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("increment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \tcount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" double"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" increment\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" useCounterStore\n")])])]),s("h3",{attrs:{id:"ä½¿ç”¨-store"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨-store"}},[t._v("#")]),t._v(" ä½¿ç”¨ Store")]),t._v(" "),s("p",[t._v("å‰é¢ä¹Ÿä»‹ç»è¿‡ï¼ŒPinia æä¾›äº†ä¸¤ç§æ–¹å¼æ¥ä½¿ç”¨ storeï¼Œ"),s("code",[t._v("Options Api")]),t._v(" å’Œ "),s("code",[t._v("Composition Api")]),t._v(" ä¸­éƒ½å®Œç¾æ”¯æŒã€‚")]),t._v(" "),s("h4",{attrs:{id:"options-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options-api"}},[t._v("#")]),t._v(" Options Api")]),t._v(" "),s("p",[t._v("åœ¨ "),s("code",[t._v("Options Api")]),t._v(" ä¸­ï¼Œå¯ç›´æ¥ä½¿ç”¨å®˜æ–¹æä¾›çš„ "),s("code",[t._v("mapActions")]),t._v(" å’Œ "),s("code",[t._v("mapState")]),t._v(" æ–¹æ³•ï¼Œå¯¼å‡º store ä¸­çš„ stateã€getterã€actionï¼Œå…¶ç”¨æ³•ä¸ Vuex åŸºæœ¬ä¸€è‡´ï¼Œå¾ˆå®¹æ˜“ä¸Šæ‰‹ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" mapActions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mapState "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pinia'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useCounterStore "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../model/counter'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'HelloWorld'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("computed")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mapState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("useCounterStore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'count'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'double'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mapActions")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("useCounterStore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'increment'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"composition-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#composition-api"}},[t._v("#")]),t._v(" Composition Api")]),t._v(" "),s("p",[s("code",[t._v("Composition Api")]),t._v(" ä¸­ï¼Œä¸ç®¡æ˜¯ state è¿˜æ˜¯ getter éƒ½éœ€è¦é€šè¿‡ "),s("code",[t._v("computed")]),t._v(" æ–¹æ³•æ¥ç›‘å¬å˜åŒ–ï¼Œè¿™å’Œ "),s("code",[t._v("Options Api")]),t._v(" ä¸­ï¼Œéœ€è¦æ”¾åˆ° "),s("code",[t._v("computed")]),t._v(" å¯¹è±¡ä¸­çš„é“ç†ä¸€æ ·ã€‚å¦å¤–ï¼Œ "),s("code",[t._v("Options Api")]),t._v("  ä¸­æ‹¿åˆ°çš„ state å€¼æ˜¯å¯ä»¥ç›´æ¥è¿›è¡Œä¿®æ”¹æ“ä½œçš„ï¼Œå½“ç„¶è¿˜æ˜¯å»ºè®®å†™ä¸€ä¸ª action æ¥æ“ä½œ state å€¼ï¼Œæ–¹ä¾¿åæœŸç»´æŠ¤ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Composition Api")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" computed "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useCounterStore "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../stores/counter'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'HelloWorld'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" counter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useCounterStore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// state å’Œ getter éƒ½éœ€è¦åœ¨ä½¿ç”¨ computedï¼Œè¿™å’Œ Options Api ä¸€æ ·")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("computed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" counter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("double")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("computed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" counter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("double"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("increment")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" counter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯ä»¥ç›´æ¥ä¿®æ”¹ state çš„å€¼")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("increment")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" counter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("increment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯ä»¥å¼•ç”¨ store ä¸­å®šä¹‰çš„ action")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"ç±»å‹æç¤º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç±»å‹æç¤º"}},[t._v("#")]),t._v(" ç±»å‹æç¤º")]),t._v(" "),s("p",[t._v("åœ¨ Vuex ä¸­ï¼ŒTypeScript çš„ç±»å‹æç¤ºåšå¾—ä¸æ˜¯å¾ˆå¥½ï¼Œåœ¨è¿›è¡Œç±»å‹æ¨å¯¼æ—¶ï¼Œåªèƒ½æ‰¾åˆ°å®ƒçš„ stateã€‚ç‰¹åˆ«æ˜¯å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œä»£ç æç¤ºå°±å¾ˆä¸æ™ºèƒ½ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://file.shenfq.com/pic/202112151709157.png",alt:""}})]),t._v(" "),s("p",[t._v("è€Œ piniaï¼Œå°±èƒ½æ¨å¯¼å‡ºå®šä¹‰çš„æ‰€æœ‰ stateã€getterã€actionï¼Œè¿™æ ·åœ¨å†™ä»£ç çš„æ—¶å€™ï¼Œå°±ä¼šæ–¹ä¾¿å¾ˆå¤šã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://file.shenfq.com/pic/202112151709804.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://file.shenfq.com/pic/202112151709469.png",alt:""}})]),t._v(" "),s("p",[t._v("ä¸»è¦æ˜¯ pinia é€šè¿‡ TypeScript è¿›è¡Œäº†ååˆ†å‹å¥½çš„ç±»å‹å®šä¹‰ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥çœ‹çœ‹ pinia çš„ç±»å‹å®šä¹‰æ–‡ä»¶ï¼ˆ"),s("code",[t._v("pinia.d.ts")]),t._v("ï¼‰ï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://file.shenfq.com/pic/202112151709919.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"ä»£ç åˆ†å‰²"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç åˆ†å‰²"}},[t._v("#")]),t._v(" ä»£ç åˆ†å‰²")]),t._v(" "),s("p",[t._v("ç”±äºä½¿ç”¨äº†æ¨¡å—åŒ–è®¾è®¡ï¼Œæ‰€æœ‰çš„ store éƒ½èƒ½å¤Ÿå•ç‹¬å¼•å…¥ï¼Œè€Œä¸æ˜¯åƒ vuex ä¸€æ ·ï¼Œé€šè¿‡ modules çš„æ–¹å¼ï¼Œå°†æ‰€æœ‰çš„ module æŒ‚è½½åˆ°ä¸€ä¸ª store ä¸Šã€‚")]),t._v(" "),s("p",[t._v("å‡è®¾ï¼Œæˆ‘ä»¬å½“å‰é€šè¿‡ Vuex åˆ›å»ºäº†ä¸€ä¸ª Storeï¼Œè¿™ä¸ª Store ä¸‹æœ‰ä¸¤ä¸ª moduleï¼Œåˆ†åˆ«æ˜¯ç”¨æˆ·æ¨¡å—ï¼ˆUserï¼‰å’Œå•†å“æ¨¡å—ï¼ˆGoodsï¼‰ã€‚å³ä½¿å½“å‰é¦–é¡µåªä½¿ç”¨åˆ°äº†ç”¨æˆ·ä¿¡æ¯ï¼Œä½†æ˜¯æ•´ä¸ª Store éƒ½ä¼šè¢«æ‰“åŒ…åˆ°é¦–é¡µçš„ js chunk ä¸­ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://file.shenfq.com/pic/202112151709033.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://file.shenfq.com/pic/202112151709945.png",alt:""}})]),t._v(" "),s("p",[t._v("å¦‚æœæˆ‘ä»¬ä½¿ç”¨ piniaï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ "),s("code",[t._v("defineStore")]),t._v(" å®šä¹‰ä¸¤ä¸ª å®Œå…¨æ˜¯åˆ†ç¦»çŠ¶æ€çš„ storeï¼Œä¸¤ä¸ªé¡µé¢åœ¨å¼•å…¥æ—¶ï¼Œä¹Ÿäº’ä¸å½±å“ã€‚æœ€åæ‰“åŒ…çš„æ—¶å€™ï¼Œé¦–é¡µçš„ js chunk å’Œå•†å“é¡µçš„ js chunk ä¼šåˆ†åˆ«æ‰“åŒ…å¯¹åº”çš„ storeã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://file.shenfq.com/pic/202112151709926.png",alt:""}})]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("Pinia çš„ä»‹ç»åˆ°è¿™é‡Œå°±å‘Šä¸€æ®µè½äº†ï¼Œå¦‚æœç°åœ¨æœ‰æ–°é¡¹ç›®è¦ä½¿ç”¨ Vue3 è¿›è¡Œå¼€å‘ï¼Œæ¨èæ— è„‘ä½¿ç”¨ Piniaï¼Œæ›´åŠ ç®€æ´ï¼Œè€Œä¸”å¤§å°ä»… 1KBã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);